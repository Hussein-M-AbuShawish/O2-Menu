<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>O2 Restaurant - Gaza | Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø·Ø¹Ø§Ù…</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      :root {
        --brand-color: #e20004;
        --dark-bg: #0a0a0a;
        --card-bg: #1a1a1a;
        --text-primary: #ffffff;
        --text-secondary: #b0b0b0;
        --shadow: rgba(226, 0, 4, 0.3);
        --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      /* === Ø¥Ø¶Ø§ÙØ§Øª Ù„Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø²Ø§Ø­Ø© Ø§Ù„Ø£ÙÙ‚ÙŠØ© === */
      html {
        overflow-x: hidden;
        width: 100%;
      }

      body {
        font-family: "Cairo", sans-serif;
        background: linear-gradient(135deg, var(--dark-bg) 0%, #1a1a1a 100%);
        color: var(--text-primary);
        line-height: 1.6;
        overflow-x: hidden;
        min-height: 100vh;
        touch-action: pan-y;
        width: 100%;
        max-width: 100vw;
      }

      header {
        background: rgba(10, 10, 10, 0.95);
        backdrop-filter: blur(10px);
        padding: clamp(0.75rem, 2vw, 1rem) 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        border-bottom: 1px solid rgba(226, 0, 4, 0.2);
        width: 100%;
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 clamp(10px, 3vw, 15px);
        width: 100%;
      }

      .logo {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--text-primary);
        flex: 1;
        text-align: center;
      }
      .logo-red {
        color: var(--brand-color);
        font-size: clamp(1.8rem, 4vw, 2.5rem);
        font-weight: 800;
      }
      .logo-red sub {
        font-size: 1.2rem;
        font-weight: 800;
      }

      .burger-menu {
        display: flex;
        align-items: center;
        gap: clamp(4px, 2vw, 8px);
        cursor: pointer;
        z-index: 1001;
        padding: clamp(6px, 2vw, 8px) clamp(8px, 2.5vw, 12px);
        border-radius: 8px;
        transition: var(--transition);
        touch-action: manipulation;
      }

      .burger-menu:hover {
        background: rgba(226, 0, 4, 0.1);
      }

      .burger-icon {
        width: clamp(20px, 5vw, 24px);
        height: clamp(15px, 4vw, 18px);
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }

      .burger-line {
        width: 100%;
        height: 3px;
        background: var(--brand-color);
        border-radius: 3px;
        transition: var(--transition);
      }

      .burger-text {
        color: var(--brand-color);
        font-weight: 600;
        font-size: clamp(0.75rem, 2.5vw, 0.9rem);
      }

      .burger-menu.active .burger-line:nth-child(1) {
        transform: translateY(7.5px) rotate(45deg);
      }
      .burger-menu.active .burger-line:nth-child(2) {
        opacity: 0;
      }
      .burger-menu.active .burger-line:nth-child(3) {
        transform: translateY(-7.5px) rotate(-45deg);
      }

      .nav-sidebar {
        position: fixed;
        right: -100%;
        top: 0;
        width: min(280px, 85vw);
        height: 100vh;
        background: var(--card-bg);
        z-index: 1000;
        transition: var(--transition);
        padding: clamp(70px, 15vh, 80px) 15px 20px;
        box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
      .nav-sidebar.active {
        right: 0;
      }
      .nav-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 999;
        display: none;
        touch-action: none;
      }
      .nav-overlay.active {
        display: block;
      }
      .nav-btn {
        width: 100%;
        background: transparent;
        color: var(--text-secondary);
        border: 1px solid var(--brand-color);
        padding: clamp(8px, 2.5vw, 10px);
        border-radius: 10px;
        cursor: pointer;
        margin-bottom: 8px;
        font-family: inherit;
        font-weight: 600;
        text-align: right;
        font-size: clamp(0.85rem, 2.5vw, 0.95rem);
        transition: var(--transition);
        touch-action: manipulation;
      }
      .nav-btn.active {
        background: var(--brand-color);
        color: white;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: clamp(5px, 2vw, 10px) clamp(10px, 3vw, 15px)
          clamp(70px, 15vh, 80px);
        width: 100%;
        overflow-x: hidden;
      }
      .menu-section {
        display: none;
      }
      .menu-section.active {
        display: block;
        animation: fadeIn 0.5s ease;
      }
      .section-title {
        text-align: center;
        margin: clamp(15px, 4vw, 20px) 0 clamp(20px, 5vw, 25px);
      }
      .section-title h2 {
        font-size: clamp(1.2rem, 4.5vw, 1.8rem);
        border-bottom: 3px solid var(--brand-color);
        display: inline-block;
        padding-bottom: 5px;
      }

      .product-grid {
        display: grid;
        gap: clamp(10px, 2.5vw, 15px);
        grid-template-columns: repeat(2, 1fr);
        width: 100%;
      }

      @media (min-width: 500px) {
        .product-grid {
          grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        }
      }

      @media (min-width: 768px) {
        .product-grid {
          grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        }
      }

      @media (min-width: 1024px) {
        .product-grid {
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        }
      }

      @media (min-width: 1280px) {
        .product-grid {
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        }
      }

      .product-card {
        background: var(--card-bg);
        border-radius: clamp(10px, 2.5vw, 12px);
        overflow: hidden;
        aspect-ratio: 3/4;
        position: relative;
        cursor: pointer;
        opacity: 0;
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        touch-action: manipulation;
        width: 100%;
      }

      .reveal-right {
        transform: translateX(60px);
      }
      .reveal-left {
        transform: translateX(-60px);
      }
      .product-card.active {
        opacity: 1 !important;
        transform: translateX(0) !important;
      }

      .product-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px var(--shadow);
      }
      .product-card:active {
        transform: scale(0.98);
      }

      .product-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: 0.5s;
      }
      .product-card:hover img {
        transform: scale(1.08);
      }
      .card-overlay {
        position: absolute;
        bottom: 0;
        inset: 0;
        padding: clamp(10px, 2.5vw, 12px);
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.9));
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
      }
      .card-overlay h3 {
        font-size: clamp(0.85rem, 2.8vw, 1.1rem);
        margin-bottom: 5px;
        line-height: 1.3;
      }
      .product-price {
        color: var(--brand-color);
        font-weight: 800;
        font-size: clamp(1rem, 3.2vw, 1.4rem);
      }

      .no-delivery-badge {
        position: absolute;
        top: clamp(8px, 2vw, 10px);
        left: clamp(8px, 2vw, 10px);
        background: rgba(255, 255, 255, 0.9);
        border: 2px solid var(--brand-color);
        border-radius: 50%;
        width: clamp(35px, 9vw, 45px);
        height: clamp(35px, 9vw, 45px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.5);
      }

      .no-delivery-badge::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 3px;
        background: red;
        transform: rotate(-45deg);
        border-radius: 2px;
      }

      .no-delivery-badge img {
        width: clamp(22px, 6vw, 40px);
        height: clamp(22px, 6vw, 40px);
        object-fit: contain;
      }

      .modal {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.9);
        z-index: 2000;
        display: none;
        align-items: center;
        justify-content: center;
        padding: clamp(10px, 3vw, 15px);
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
      .modal.active {
        display: flex;
      }
      .modal-content {
        background: var(--card-bg);
        border-radius: clamp(15px, 4vw, 20px);
        width: 100%;
        max-width: min(500px, 95vw);
        overflow: hidden;
        animation: scaleUp 0.3s ease;
        max-height: 90vh;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
        margin: auto;
      }
      .modal-image {
        width: 100%;
        height: clamp(200px, 35vw, 300px);
        object-fit: cover;
      }
      .modal-body {
        padding: clamp(15px, 4vw, 20px);
        text-align: center;
      }

      .money-calc-box {
        background: rgba(226, 0, 4, 0.1);
        padding: clamp(15px, 4vw, 20px);
        border-radius: clamp(12px, 3vw, 15px);
        margin: clamp(12px, 3vw, 15px) 0;
        border: 2px solid var(--brand-color);
      }
      .input-group {
        margin-bottom: clamp(12px, 3vw, 15px);
        text-align: right;
      }
      .input-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 700;
        font-size: clamp(0.85rem, 2.5vw, 0.9rem);
        color: #ddd;
      }
      .calc-input {
        width: 100%;
        padding: clamp(10px, 2.5vw, 12px);
        background: #fff;
        border: none;
        color: #000;
        border-radius: 8px;
        font-size: clamp(1.1rem, 3.5vw, 1.3rem);
        text-align: center;
        font-family: inherit;
        font-weight: bold;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }
      .calc-input:focus {
        outline: 3px solid var(--brand-color);
      }
      .calc-input::-webkit-outer-spin-button,
      .calc-input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
      .calc-input[type="number"] {
        -moz-appearance: textfield;
      }

      .weight-selector {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: clamp(6px, 2vw, 8px);
        margin: clamp(12px, 3vw, 15px) 0;
      }
      .weight-btn {
        padding: clamp(8px, 2.5vw, 10px);
        border: 2px solid var(--brand-color);
        background: transparent;
        color: white;
        border-radius: 10px;
        cursor: pointer;
        font-family: inherit;
        font-weight: 600;
        transition: 0.3s;
        font-size: clamp(0.8rem, 2.5vw, 0.9rem);
        touch-action: manipulation;
      }
      .weight-btn.active {
        background: var(--brand-color);
      }

      .qty-control-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: clamp(12px, 3.5vw, 15px);
        margin: clamp(12px, 3vw, 15px) 0;
        position: relative;
      }
      .qty-btn {
        width: clamp(40px, 10vw, 45px);
        height: clamp(40px, 10vw, 45px);
        border-radius: clamp(10px, 2.5vw, 12px);
        border: 2px solid var(--brand-color);
        background: transparent;
        color: white;
        font-size: clamp(1.1rem, 3vw, 1.3rem);
        cursor: pointer;
        transition: 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        touch-action: manipulation;
      }
      .qty-btn:active {
        background: var(--brand-color);
        transform: scale(0.9);
      }
      .qty-num {
        font-size: clamp(1.2rem, 3.5vw, 1.4rem);
        font-weight: 800;
        min-width: clamp(70px, 18vw, 80px);
        text-align: center;
      }

      .modal-button {
        width: 100%;
        padding: clamp(12px, 3vw, 14px);
        border-radius: clamp(10px, 2.5vw, 12px);
        border: none;
        font-family: inherit;
        font-weight: 700;
        cursor: pointer;
        margin-bottom: clamp(8px, 2vw, 10px);
        display: block;
        text-decoration: none;
        text-align: center;
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        transition: var(--transition);
        touch-action: manipulation;
      }
      @media (hover: hover) {
        .modal-button:hover {
          transform: translateY(-2px);
          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
      }
      .btn-add {
        background: var(--brand-color);
        color: white;
      }
      .btn-add:disabled {
        background: #555;
        cursor: not-allowed;
        opacity: 0.6;
      }
      .btn-wa {
        background: #25d366;
        color: white;
      }
      .btn-secondary {
        background: #333;
        color: white;
      }

      .no-delivery-notice {
        background: rgb(26 26 26);
        border: 2px solid var(--brand-color);
        border-radius: clamp(8px, 2vw, 10px);
        padding: clamp(12px, 3vw, 15px);
        margin: clamp(12px, 3vw, 15px) 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: clamp(8px, 2vw, 10px);
      }

      .no-delivery-notice span {
        font-weight: 700;
        color: var(--text-primary);
        font-size: clamp(0.85rem, 2.5vw, 1rem);
        line-height: 1.4;
      }
      .no-delivery-notice span .text-red {
        color: #e20004;
      }

      #cartButton {
        position: fixed;
        bottom: clamp(15px, 4vw, 20px);
        left: clamp(15px, 4vw, 20px);
        width: clamp(50px, 13vw, 60px);
        height: clamp(50px, 13vw, 60px);
        background: var(--brand-color);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: clamp(1.2rem, 3.5vw, 1.4rem);
        cursor: pointer;
        z-index: 1500;
        border: none;
        box-shadow: 0 5px 20px var(--shadow);
        transition: transform 0.3s;
        touch-action: manipulation;
      }
      #cartButton:active {
        transform: scale(0.95);
      }
      #cartCount {
        position: absolute;
        top: -2px;
        right: -2px;
        background: white;
        color: var(--brand-color);
        width: clamp(20px, 5.5vw, 24px);
        height: clamp(20px, 5.5vw, 24px);
        border-radius: 50%;
        font-size: clamp(0.7rem, 2vw, 0.75rem);
        font-weight: 900;
        display: none;
        align-items: center;
        justify-content: center;
      }

      #cartModal {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.9);
        z-index: 2100;
        display: none;
        align-items: center;
        justify-content: center;
        padding: clamp(10px, 3vw, 15px);
      }
      #cartModal.active {
        display: flex;
      }
      #cartContent {
        background: var(--card-bg);
        border-radius: clamp(15px, 4vw, 20px);
        width: 100%;
        max-width: min(550px, 95vw);
        padding: clamp(15px, 4vw, 20px);
        max-height: 90vh;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
      .cart-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        padding: clamp(10px, 2.5vw, 12px);
        border-radius: clamp(8px, 2vw, 10px);
        margin-bottom: clamp(8px, 2vw, 10px);
        gap: clamp(8px, 2vw, 10px);
        flex-wrap: wrap;
      }
      .cart-item-info {
        flex: 1;
        text-align: right;
        font-size: clamp(0.85rem, 2.5vw, 0.95rem);
        min-width: 0;
      }

      .cart-qty-controls {
        display: flex;
        align-items: center;
        gap: clamp(6px, 2vw, 8px);
        background: rgba(0, 0, 0, 0.3);
        padding: 2px 5px;
        border-radius: 8px;
      }
      .mini-qty-btn {
        width: clamp(26px, 7vw, 28px);
        height: clamp(26px, 7vw, 28px);
        border-radius: 5px;
        border: none;
        background: var(--brand-color);
        color: white;
        cursor: pointer;
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        display: flex;
        align-items: center;
        justify-content: center;
        touch-action: manipulation;
      }

      .form-group {
        margin-bottom: clamp(12px, 3vw, 15px);
        text-align: right;
      }
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: 600;
        color: var(--text-secondary);
        font-size: clamp(0.85rem, 2.5vw, 0.95rem);
      }
      .form-group input,
      .form-group textarea,
      .form-group select {
        width: 100%;
        padding: clamp(10px, 2.5vw, 12px);
        border-radius: clamp(8px, 2vw, 10px);
        border: 1px solid rgba(226, 0, 4, 0.3);
        background: rgba(255, 255, 255, 0.05);
        color: white;
        font-family: inherit;
        font-size: clamp(0.9rem, 2.5vw, 1rem);
        transition: 0.3s;
      }
      .form-group input:focus,
      .form-group textarea:focus,
      .form-group select:focus {
        outline: none;
        border-color: var(--brand-color);
        background: rgba(255, 255, 255, 0.08);
      }
      .form-group textarea {
        resize: vertical;
        min-height: clamp(70px, 18vw, 80px);
      }

      .form-group select {
        cursor: pointer;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23e20004' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: left clamp(10px, 2.5vw, 12px) center;
        padding-right: clamp(35px, 9vw, 40px);
      }

      .form-group select option {
        background: var(--card-bg);
        color: white;
        padding: 10px;
      }

      .delivery-price-display {
        background: rgba(226, 0, 4, 0.1);
        border: 2px solid var(--brand-color);
        border-radius: clamp(8px, 2vw, 10px);
        padding: clamp(10px, 2.5vw, 12px);
        margin-top: clamp(8px, 2vw, 10px);
        text-align: center;
        font-weight: 700;
        font-size: clamp(1rem, 3vw, 1.1rem);
        color: var(--brand-color);
        display: none;
      }

      #confirmOrderModal .modal-content {
        max-width: min(550px, 95vw);
        border: 2px solid var(--brand-color);
      }

      .invoice-container {
        background: #fff;
        color: #000;
        border-radius: clamp(10px, 2.5vw, 12px);
        padding: clamp(15px, 4vw, 20px);
        margin: clamp(8px, 2vw, 10px) 0;
        direction: rtl;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }

      .invoice-header {
        text-align: center;
        border-bottom: 2px dashed #ccc;
        padding-bottom: clamp(12px, 3vw, 15px);
        margin-bottom: clamp(12px, 3vw, 15px);
      }

      .invoice-header h3 {
        color: var(--brand-color);
        font-size: clamp(1.2rem, 3.5vw, 1.4rem);
        margin-bottom: 5px;
      }

      .invoice-header p {
        color: #666;
        font-size: clamp(0.75rem, 2vw, 0.85rem);
        margin: 0;
      }

      .invoice-customer {
        background: #f8f8f8;
        padding: clamp(10px, 2.5vw, 12px);
        border-radius: 8px;
        margin-bottom: clamp(12px, 3vw, 15px);
      }

      .invoice-customer-row {
        display: flex;
        margin-bottom: clamp(6px, 2vw, 8px);
        font-size: clamp(0.8rem, 2.3vw, 0.9rem);
        align-items: flex-start;
        flex-wrap: wrap;
      }

      .invoice-customer-row:last-child {
        margin-bottom: 0;
      }

      .invoice-customer-label {
        font-weight: 700;
        color: #333;
        min-width: clamp(55px, 15vw, 65px);
        flex-shrink: 0;
      }

      .invoice-customer-value {
        color: #555;
        flex: 1;
        word-break: break-word;
      }

      .invoice-table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: clamp(12px, 3vw, 15px);
        font-size: clamp(0.7rem, 2vw, 0.8rem);
        min-width: 280px;
      }

      .invoice-table th {
        background: var(--brand-color);
        color: white;
        padding: clamp(8px, 2vw, 10px) clamp(3px, 1.5vw, 5px);
        text-align: center;
        font-weight: 700;
        font-size: clamp(0.65rem, 1.8vw, 0.75rem);
        white-space: nowrap;
      }

      .invoice-table th:first-child {
        text-align: right;
        padding-right: clamp(8px, 2vw, 10px);
      }

      .invoice-table td {
        padding: clamp(8px, 2vw, 10px) clamp(3px, 1.5vw, 5px);
        text-align: center;
        border-bottom: 1px solid #eee;
        vertical-align: middle;
      }

      .invoice-table td:first-child {
        text-align: right;
        padding-right: clamp(8px, 2vw, 10px);
        font-weight: 600;
        max-width: 150px;
      }

      .invoice-table tbody tr:hover {
        background: #f9f9f9;
      }

      .invoice-table .delivery-row {
        background: #fff8e1;
      }

      .invoice-table .delivery-row td {
        font-weight: 600;
        color: #e65100;
        border-bottom: 2px solid var(--brand-color);
      }

      .invoice-total-box {
        background: linear-gradient(135deg, var(--brand-color), #ff3333);
        color: white;
        padding: clamp(8px, 2vw, 10px);
        border-radius: clamp(8px, 2vw, 10px);
        display: flex;
        align-items: center;
        justify-content: space-between;
        text-align: center;
      }

      .invoice-total-label {
        font-size: clamp(0.85rem, 2.5vw, 0.95rem);
        margin-bottom: 5px;
      }

      .invoice-total-amount {
        font-size: clamp(1.5rem, 4.5vw, 1.8rem);
        font-weight: 800;
      }

      .invoice-footer {
        text-align: center;
        margin-top: clamp(12px, 3vw, 15px);
        padding-top: clamp(12px, 3vw, 15px);
        border-top: 2px dashed #ccc;
        font-size: clamp(0.75rem, 2vw, 0.8rem);
        color: #888;
      }

      /* Small phones */
      @media (max-width: 360px) {
        .burger-text {
          display: none;
        }
        .container {
          padding-bottom: 60px;
        }
      }

      /* Medium phones */
      @media (max-width: 480px) {
        .burger-text {
          display: none;
        }
      }

      /* Tablets Portrait */
      @media (min-width: 768px) and (max-width: 1024px) {
        .modal-content {
          max-width: 600px;
        }
        #cartContent {
          max-width: 600px;
        }
      }

      /* Tablets Landscape & Small Desktops */
      @media (min-width: 1024px) {
        .burger-text {
          display: inline;
        }
      }

      /* Large Screens */
      @media (min-width: 1440px) {
        .container {
          max-width: 1400px;
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes scaleUp {
        from {
          transform: scale(0.9);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      ::-webkit-scrollbar {
        width: clamp(6px, 1.5vw, 8px);
      }
      ::-webkit-scrollbar-track {
        background: var(--dark-bg);
      }
      ::-webkit-scrollbar-thumb {
        background: var(--brand-color);
        border-radius: 4px;
      }

      /* Touch device optimizations */
      @media (hover: none) {
        .product-card:active {
          transform: scale(0.98);
        }
        .modal-button:active {
          transform: scale(0.98);
        }
        .weight-btn:active {
          transform: scale(0.95);
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="header-content">
        <div class="burger-menu" id="burgerMenu">
          <div class="burger-icon">
            <div class="burger-line"></div>
            <div class="burger-line"></div>
            <div class="burger-line"></div>
          </div>
          <span class="burger-text">Ø§Ù„Ø§Ù‚Ø³Ø§Ù…</span>
        </div>
        <div class="logo">
          <span class="logo-red">O<sub>2</sub></span> Restaurant
        </div>
        <div style="width: 30px"></div>
      </div>
    </header>

    <div class="nav-overlay" id="navOverlay"></div>
    <nav class="nav-sidebar" id="navSidebar"><div id="navButtons"></div></nav>

    <div class="container" id="menuContainer"></div>

    <!-- Product Details Modal -->
    <div class="modal" id="productModal">
      <div class="modal-content">
        <img id="modalImage" class="modal-image" src="" alt="" />
        <div class="modal-body">
          <button
            onclick="closeModal()"
            style="
              float: left;
              background: none;
              border: none;
              color: white;
              font-size: 1.5rem;
              cursor: pointer;
            "
          >
            &times;
          </button>
          <h2 id="modalTitle"></h2>
          <p
            id="modalDesc"
            style="
              color: var(--text-secondary);
              margin: 10px 0;
              font-size: 0.9rem;
            "
          ></p>
          <div
            id="modalPrice"
            style="
              font-size: 1.6rem;
              color: var(--brand-color);
              font-weight: 800;
              margin: 10px 0;
            "
          ></div>

          <div
            id="noDeliveryNotice"
            class="no-delivery-notice"
            style="display: none"
          >
            <span
              >ğŸš« Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ù…ØªÙˆÙØ± Ù„Ù„Ø·Ù„Ø¨ Ù…Ù†
              <span class="text-red">Ø§Ù„Ù…Ø·Ø¹Ù… ÙÙ‚Ø·</span> - Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙˆØµÙŠÙ„</span
            >
          </div>

          <div id="moneyCalcBox" class="money-calc-box" style="display: none">
            <div class="input-group">
              <label>ğŸ’° Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø¯ÙØ¹Ù‡ (Ø´ÙŠÙƒÙ„)</label>
              <input
                type="number"
                id="priceInput"
                class="calc-input"
                placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø±"
                step="1"
                oninput="updateFromPrice()"
              />
            </div>
            <div id="weightSelector" class="weight-selector"></div>
          </div>

          <div
            class="qty-control-wrapper"
            id="qtyControlNormal"
            style="display: none"
          >
            <button class="qty-btn" onclick="changeActiveQty(-1)">
              <i class="fas fa-minus"></i>
            </button>
            <span class="qty-num" id="activeQtyDisplay">1</span>
            <button class="qty-btn" onclick="changeActiveQty(1)">
              <i class="fas fa-plus"></i>
            </button>
          </div>

          <div
            class="qty-control-wrapper"
            id="qtyControlWeight"
            style="display: none"
          >
            <button class="qty-btn" onclick="adjustWeight(-1)">
              <i class="fas fa-minus"></i>
            </button>
            <span class="qty-num" id="weightDisplay">1 ÙƒØº</span>
            <button class="qty-btn" onclick="adjustWeight(1)">
              <i class="fas fa-plus"></i>
            </button>
          </div>

          <button class="modal-button btn-add" id="addToCartBtn">
            <i class="fas fa-cart-plus"></i> Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©
          </button>
          <a
            href="#"
            id="modalWaBtn"
            target="_blank"
            class="modal-button btn-wa"
            ><i class="fab fa-whatsapp"></i> Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</a
          >
        </div>
      </div>
    </div>

    <button id="cartButton">
      <i class="fas fa-shopping-basket"></i>
      <span id="cartCount">0</span>
    </button>

    <!-- Cart Modal -->
    <div id="cartModal">
      <div id="cartContent">
        <h2
          style="
            margin-bottom: 20px;
            border-bottom: 2px solid var(--brand-color);
            padding-bottom: 10px;
          "
        >
          Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
        </h2>
        <div id="cartItemsList"></div>
        <div
          id="cartTotal"
          style="
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--brand-color);
            text-align: center;
            margin: 20px 0;
            padding: 15px;
            background: rgba(226, 0, 4, 0.1);
            border-radius: 10px;
          "
        >
          Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 0 â‚ª
        </div>
        <button
          id="sendCartBtn"
          class="modal-button btn-wa"
          style="background: #25d366; margin-bottom: 10px"
        >
          <i class="fab fa-whatsapp"></i> Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨
        </button>
        <button id="clearCartBtn" class="modal-button btn-secondary">
          Ø¥ÙØ±Ø§Øº Ø§Ù„Ø³Ù„Ø©
        </button>
        <button
          onclick="document.getElementById('cartModal').classList.remove('active')"
          style="
            width: 100%;
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 10px;
          "
        >
          Ø¥ØºÙ„Ø§Ù‚
        </button>
      </div>
    </div>

    <!-- Customer Data Modal WITH Province and Location Selects -->
    <div class="modal" id="customerModal">
      <div class="modal-content">
        <div class="modal-body">
          <h2 style="margin-bottom: 20px; text-align: center">
            <i class="fas fa-user-circle" style="color: var(--brand-color)"></i>
            Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„
          </h2>
          <form id="customerForm">
            <div class="form-group">
              <label><i class="fas fa-user"></i> Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ *</label>
              <input
                type="text"
                id="customerName"
                placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ"
                required
              />
            </div>
            <div class="form-group">
              <label><i class="fas fa-phone"></i> Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ *</label>
              <input
                type="tel"
                id="customerPhone"
                placeholder="059XXXXXXXX"
                required
                maxlength="10"
              />
            </div>
            <!-- Province Select -->
            <div class="form-group">
              <label><i class="fas fa-city"></i> Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© *</label>
              <select id="provinceSelect" required>
                <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© --</option>
                <option value="gaza">Ù…Ø­Ø§ÙØ¸Ø© ØºØ²Ø©</option>
                <option value="middle">Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„ÙˆØ³Ø·Ù‰</option>
              </select>
            </div>

            <!-- Location Select (Areas) -->
            <div class="form-group" id="locationGroup" style="display: none">
              <label
                ><i class="fas fa-map-marked-alt"></i> Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ *</label
              >
              <select id="locationSelect" required disabled>
                <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© --</option>
              </select>
              <div id="deliveryPriceDisplay" class="delivery-price-display">
                Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: 0 â‚ª
              </div>
            </div>

            <div class="form-group">
              <label
                ><i class="fas fa-map-marker-alt"></i> Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„ *</label
              >
              <textarea
                id="customerAddress"
                placeholder="Ù…Ø«Ø§Ù„: Ø­ÙŠ Ø§Ù„Ø´ÙŠØ® Ø±Ø¶ÙˆØ§Ù†ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¬Ù„Ø§Ø¡ØŒ Ø¨Ø¬Ø§Ù†Ø¨ Ù…Ø³Ø¬Ø¯..."
                required
              ></textarea>
            </div>

            <button type="submit" class="modal-button btn-add">
              <i class="fas fa-check-circle"></i> ØªØ§ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
            </button>
          </form>
          <button onclick="backToCart()" class="modal-button btn-secondary">
            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø³Ù„Ø©
          </button>
        </div>
      </div>
    </div>

    <!-- Confirmation Modal with Invoice -->
    <div class="modal" id="confirmOrderModal">
      <div class="modal-content">
        <div class="modal-body" style="padding: 15px">
          <button
            onclick="document.getElementById('confirmOrderModal').classList.remove('active')"
            style="
              float: left;
              background: none;
              border: none;
              color: white;
              font-size: 1.5rem;
              cursor: pointer;
            "
          >
            &times;
          </button>
          <h2
            style="margin-bottom: 15px; color: var(--brand-color); clear: both"
          >
            <i class="fas fa-file-invoice"></i> ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
          </h2>

          <!-- Invoice Container -->
          <div class="invoice-container" id="invoiceContainer"></div>

          <div style="display: flex; gap: 10px; margin-top: 15px">
            <button
              onclick="editOrder()"
              class="modal-button btn-secondary"
              style="margin: 0"
            >
              <i class="fas fa-edit"></i> ØªØ¹Ø¯ÙŠÙ„
            </button>
            <button
              onclick="executeWhatsAppSend()"
              class="modal-button btn-wa"
              style="margin: 0"
            >
              <i class="fab fa-whatsapp"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      // ================= CONFIGURATION =================
      const CONFIG = {
        whatsappNumbers: {
          gaza: "972595201049",
          middle: "972597111811",
        },
        deliveryLocations: {
          gaza: [
            { name: "ØºØ²Ø© - Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©", price: 5 },
            { name: "ØºØ²Ø© - Ø§Ù„Ø´Ù…Ø§Ù„", price: 8 },
            { name: "ØºØ²Ø© - Ø§Ù„Ø±Ù…Ø§Ù„", price: 5 },
            { name: "ØºØ²Ø© - Ø§Ù„Ø´ÙŠØ® Ø±Ø¶ÙˆØ§Ù†", price: 6 },
            { name: "ØºØ²Ø© - Ø§Ù„Ù†ØµØ±", price: 7 },
          ],
          middle: [
            { name: "Ø§Ù„Ù†ØµÙŠØ±Ø§Øª", price: 10 },
            { name: "Ø§Ù„Ø¨Ø±ÙŠØ¬", price: 15 },
            { name: "Ø³ÙˆØ§Ø±Ø­Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©", price: 15 },
            { name: "Ø³ÙˆØ§Ø±Ø­Ø© Ø§Ù„ØºØ±Ø¨ÙŠØ©", price: 15 },
            { name: "Ø§Ù„Ø²ÙˆØ§ÙŠØ¯Ø©", price: 20 },
            { name: "Ø§Ù„Ù…ØºØ§Ø²ÙŠ", price: 25 },
            { name: "Ø¯ÙŠØ± Ø§Ù„Ø¨Ù„Ø­", price: 30 },
          ],
        },
      };

      // State
      let currentProvince = null;
      let selectedLocation = null;
      let customerInfo = { name: "", phone: "", address: "" };

      // ================= MENU DATA =================
      const menuData = {
        shawarma: {
          title: "ğŸŒ¯ Ø§Ù„Ø´Ø§ÙˆØ±Ù…Ø§",
          items: [
            {
              name: "Ø¨ÙŠØªØ§ Ø´Ø§ÙˆØ±Ù…Ø§",
              price: 10,
              image: "./img/Shawarma-section/5O1A7165 copy.jpg",
            },
            {
              name: "Ø´Ø§ÙˆØ±Ù…Ø§ Ø¹Ø§Ø¯ÙŠ",
              price: 15,
              image: "./img/Shawarma-section/5O1A7105 copy.jpg",
            },
            {
              name: "ÙØ±Ø´ÙˆØ­Ù‡ Ø¯Ø¨Ù„",
              price: 17,
              image: "./img/Shawarma-section/5O1A7108 copy.jpg",
            },
            {
              name: "ÙØ±Ø´ÙˆØ­Ù‡ Ø¯Ø¨Ù„ Ù„Ø­Ù…Ø©",
              price: 23,
              image: "./img/Shawarma-section/5O1A7124 copy.jpg",
            },
            {
              name: "ÙØ±Ø´ÙˆØ­Ù‡ Ø¯Ø¨Ù„ Ø¯Ø¨Ù„",
              price: 25,
              image:
                "https://images.unsplash.com/photo-1542574271-7f3b92e6c821?w=800&q=80",
              delivery: false,
            },
            {
              name: "Ø³ÙˆØ±ÙŠ",
              price: 35,
              image: "./img/Shawarma-section/5O1A7153 copy.jpg",
            },
            {
              name: "ØµÙÙŠØ­Ø©",
              price: 38,
              desc: "Ø´Ø§ÙˆØ±Ù…Ø§ - Ø¬Ø¨Ù†Ø© - Ø²ÙŠØªÙˆÙ† Ø§Ø³ÙˆØ¯",
              image: "./img/Shawarma-section/5O1A7095 copy.jpg",
            },
            {
              name: "Ø¨Ø§Ø´ÙƒØ§",
              price: 40,
              desc: "Ø®Ø¨Ø²Ø© Ø¨Ø§Ø´ÙƒØ§ - Ø´Ø§ÙˆØ±Ù…Ø§ - Ø¬Ø¨Ù†Ø© - Ø²ÙŠØªÙˆÙ† - ØµÙˆØµ Ø¨ÙŠÙƒØ§Ù†ØªÙŠ",
              image:
                "https://images.unsplash.com/photo-1607532941433-304659e8198a?w=800&q=80",
            },
            {
              name: "ØµØ§Ø±ÙˆØ®",
              price: 35,
              image:
                "https://images.unsplash.com/photo-1585238341710-4a437b2de7b8?w=800&q=80",
            },
            {
              name: "Ø´Ø§ÙˆØ±Ù…Ø§ Ø¹Ø±Ø¨ÙŠ",
              price: 38,
              desc: "Ù‚Ø·Ø¹ Ø´Ø§ÙˆØ±Ù…Ø§ - Ø¬Ø¨Ù†Ø© - Ø²ÙŠØªÙˆÙ† Ø§Ø³ÙˆØ¯",
              image:
                "https://images.unsplash.com/photo-1544025162-d76694265947?w=800&q=80",
            },
            {
              name: "Ø´Ø§ÙˆØ±Ù…Ø§ Ù†Ø§Ø¨Ù„Ø³ÙŠ",
              price: 38,
              desc: "Ø´Ø§ÙˆØ±Ù…Ø§ - Ø¨Ø·Ø§Ø·Ø§ - ØµÙˆØµ Ø¨ÙŠÙƒØ§Ù†ØªÙŠ - Ø¬Ø¨Ù†Ø© - Ø²ÙŠØªÙˆÙ† Ø§Ø³ÙˆØ¯",
              image:
                "https://images.unsplash.com/photo-1621996346565-e3dbc646d9a9?w=800&q=80",
            },
            {
              name: "ØµØ­Ù† Ø´Ø§ÙˆØ±Ù…Ø§ ÙƒØ¨ÙŠØ±",
              price: 30,
              image:
                "https://images.unsplash.com/photo-1639024471283-03518883512d?w=800&q=80",
            },
            {
              name: "ØµØ­Ù† Ø´Ø§ÙˆØ±Ù…Ø§ ØµØºÙŠØ±",
              price: 20,
              image:
                "https://images.unsplash.com/photo-1623855244529-e59ca43af2ac?w=800&q=80",
            },
          ],
        },
        italian: {
          title: "ğŸ• Ø§Ù„Ø¥ÙŠØ·Ø§Ù„ÙŠ",
          items: [
            {
              name: "ÙƒØ§Ù„ÙŠØ²ÙˆÙ†ÙŠ Ø¯Ø¬Ø§Ø¬",
              price: 25,
              desc: "ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ - Ø¬Ø¨Ù†Ø© - Ø²ÙŠØªÙˆÙ† - Ø±Ø§Ù†Ø´ ",
              image: "./img/Italian-section/5K7A6147 copy.jpg",
            },
            {
              name: "ÙƒØ§Ù„ÙŠØ²ÙˆÙ†ÙŠ Ø®Ø¶Ø§Ø±",
              price: 15,
              desc: "ÙÙ„ÙŠÙÙ„Ø© - Ø¨ØµÙ„ - Ø°Ø±Ø© - Ù…Ø´Ø±ÙˆÙ… - Ø²ÙŠØªÙˆÙ†",
              image: "./img/Italian-section/5O1A6437 copy.jpg",
            },
            {
              name: "Ø¨ÙŠØªØ²Ø§ Ù…ÙƒØ³ÙŠÙƒÙŠ Ø¯Ø¬Ø§Ø¬",
              price: 25,
              desc: "ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ - Ø¬Ø¨Ù†Ø© - Ø²ÙŠØªÙˆÙ†",
              image: "./img/Italian-section/5O1A6414 copy.jpg",
            },
            {
              name: "Ù…ÙŠØ¬Ø§",
              price: 30,
              desc: "ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ - ÙÙ„ÙŠÙÙ„Ø© - Ù…Ø´Ø±ÙˆÙ… - Ø¬Ø±Ø§Ø¯Ø© - Ø¨ØµÙ„ - ÙƒØ±ÙŠÙ…Ø© Ø·Ø¹Ø§Ù…",
              image: "./img/Italian-section/5O1A6511 copy.jpg",
            },
            {
              name: "Ø¨ÙŠØªØ²Ø§ Ø®Ø¶Ø§Ø±",
              price: 20,
              desc: "ÙÙ„ÙŠÙÙ„Ø© - Ù…Ø´Ø±ÙˆÙ… - Ø²ÙŠØªÙˆÙ† - Ø°Ø±Ø© ",
              image: "./img/Italian-section/boto.png",
            },
            {
              name: "Ø¨ÙŠØªØ²Ø§ Ø°Ø±Ø©",
              desc: "Ø°Ø±Ø©",
              price: 20,
              image: "./img/Italian-section/boto-2.png",
            },
            {
              name: "Ø¨ÙŠØªØ²Ø§ Ù…Ø§Ù…Ø§ Ø±ÙˆØ²Ø§ Ø¨Ø§Ù„Ø§Ù†Ø§Ù†Ø§Ø³",
              price: 20,
              desc: "Ø£Ù†Ø§Ù†Ø§Ø³",
              image:
                "https://images.unsplash.com/photo-1565299585323-38d6b0865b47?w=800&q=80",
            },
            {
              name: "Ù†Ø§Ø¨ÙˆÙ„ÙŠ",
              price: 20,
              desc: "Ø¨ÙŠØªØ²Ø§ Ø¨Ø§Ù„ØªÙˆÙ†Ø© ÙˆØ§Ù„Ø²ÙŠØªÙˆÙ†",
              image:
                "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=800&q=80",
            },
            {
              name: "Ù…Ø§Ø±Ø¬Ø±ÙŠØªØ§",
              price: 20,
              desc: "Ø¬Ø¨Ù†Ø©",
              image:
                "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=800&q=80",
            },
            {
              name: "ØµÙˆØµ Ø¥Ø¶Ø§ÙÙŠ",
              price: 3,
              image:
                "https://images.unsplash.com/photo-1472476443507-c7a5948772fc?w=800&q=80",
            },
          ],
        },
        sandwiches: {
          title: "ğŸ” Ø§Ù„Ø³Ù†Ø¯ÙˆÙŠØ´Ø§Øª Ø§Ù„ØºØ±Ø¨ÙŠØ©",
          items: [
            {
              name: "Ø²ÙŠÙ†Ø¬Ø±",
              price: 25,
              desc: "Ø´Ø±Ø§Ø¦Ø­ ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ Ù…ØªØ¨Ù‘Ù„Ø© Ù…Ø¹ Ø¨Ù†Ø¯ÙˆØ±Ø© Ø·Ø§Ø²Ø¬Ø©ØŒ Ø¬Ø±Ø¬ÙŠØ±ØŒ Ø­Ù„Ù‚Ø§Øª Ø¨ØµÙ„",
              image: "./img/Western-Food-Section/5O1A7321 copy.jpg",
            },
            {
              name: " Ø¨ÙŠÙ Ø¨Ø±Ø¬Ø±",
              price: 25,
              desc: "Ù‚Ø·Ø¹Ø© Ù„Ø­Ù…Ø© - Ø¨ØµÙ„ - Ø¨Ù†Ø¯ÙˆØ±Ø© - Ø¬Ø¨Ù†Ø© - Ù…Ø®Ù„Ù„ - ØµÙˆØµ Ø¨ÙŠÙƒØ§Ù†ØªÙŠ",
              image: "./img/Western-Food-Section/5O1A7361 copy.jpg",
            },
            {
              name: "Ø¨ÙŠØº Ù…Ø§Ùƒ",
              price: 35,
              desc: "Ù‚Ø·Ø¹ØªÙŠÙ† Ù„Ø­Ù…Ø© - Ø¨ØµÙ„ - Ø¨Ù†Ø¯ÙˆØ±Ø© - Ø¬Ø¨Ù†Ø© - Ù…Ø®Ù„Ù„ - ØµÙˆØµ Ø¨ÙŠÙƒØ§Ù†ØªÙŠ",
              image:
                "https://images.unsplash.com/photo-1550547660-d9450f859349?w=800&q=80",
            },
            {
              name: "ØªØ´ÙƒÙ† Ø¨ÙŠØªØ²Ø§",
              price: 25,
              desc: "ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ - Ù…Ø´Ø±ÙˆÙ… - ÙÙ„ÙŠÙÙ„Ø© - Ø¨ØµÙ„ - Ø²ÙŠØªÙˆÙ† Ø§Ø³ÙˆØ¯ - Ø¬Ø¨Ù†Ø©",
              image: "./img/Western-Food-Section/5O1A7343 copy.jpg",
            },
            {
              name: "Ø´ÙŠØ´ Ø·Ø§ÙˆÙˆÙ‚",
              price: 25,
              desc: "ÙØ®Ø¯ Ø¯Ø¬Ø§Ø¬ - Ø¬Ø±Ø¬ÙŠØ± - Ø¨Ù†Ø¯ÙˆØ±Ø© -Ù…Ø®Ù„Ù„ -ØµÙˆØµ Ø¨ÙŠÙƒØ§Ù†ØªÙŠ",
              image: "./img/Western-Food-Section/5O1A7381 copy.jpg",
            },
            {
              name: "ÙØ·ÙŠØ±Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©",
              price: 25,
              desc: "ØµØ¯Ø± Ø¯Ø¬Ø§Ø¬ - ÙÙ„ÙŠÙÙ„Ø© - Ø¨ØµÙ„ - Ø²ÙŠØªÙˆÙ† Ø§Ø³ÙˆØ¯ - Ø¬Ø¨Ù†Ø© - Ø°Ø±Ø© - ÙƒØ±ÙŠÙ…Ø© Ø·Ø¹Ø§Ù…",
              image: "./img/Western-Food-Section/5O1A7260 copy.jpg",
            },
          ],
        },
        easternSweets: {
          title: "ğŸ¯ Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø´Ø±Ù‚ÙŠØ©",
          byWeight: true,
          items: [
            {
              name: "Ù†Ù…ÙˆØ±Ø©",
              pricePerKg: 25,
              image: "./img/Oriental-Sweets-Section/5K7A6219 copy.jpg",
            },
            {
              name: "Ø¨Ø³Ø¨ÙˆØ³Ø© Ø¨Ø§Ù„Ù‚Ø´Ø·Ø©",
              pricePerKg: 25,
              image:
                "https://images.unsplash.com/photo-1602351447937-745cb720612f?w=800&q=80",
            },
            {
              name: "ÙƒÙ„Ø§Ø¬",
              pricePerKg: 30,
              image: "./img/Oriental-Sweets-Section/5O1A6669 copy.jpg",
              active: false,
            },
            {
              name: "Ø¹Ø´ Ø§Ù„Ø¨Ù„Ø¨Ù„",
              pricePerKg: 35,
              image:
                "https://images.unsplash.com/photo-1612309485932-8cca7c1d7325?w=800&q=80",
            },
            {
              name: "Ø³Ù†ÙŠÙˆØ±Ø©",
              pricePerKg: 35,
              image:
                "https://images.unsplash.com/photo-1603532648955-039310d9ed75?w=800&q=80",
            },
            {
              name: "ÙƒÙ„Ù‘ ÙˆØ´ÙƒØ±",
              pricePerKg: 35,
              image:
                "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=800&q=80",
            },
            {
              name: "Ø§Ø³Ø·Ù†Ø¨ÙˆÙ„ÙŠØ©",
              pricePerKg: 35,
              image:
                "https://images.unsplash.com/photo-1608198399988-841b00f31d2b?w=800&q=80",
            },
            {
              name: "ÙƒÙ†Ø§ÙØ© Ø¹Ø±Ø¨ÙŠØ©",
              pricePerKg: 40,
              image:
                "https://images.unsplash.com/photo-1623428187969-5da2dcea5ebf?w=800&q=80",
            },
            {
              name: "Ø¨Ø³Ø¨ÙˆØ³Ø© Ù†ÙˆØªÙŠÙ„Ø§",
              pricePerKg: 40,
              image: "./img/Oriental-Sweets-Section/5K7A6205 copy.jpg",
            },
            {
              name: "Ø¨Ù‚Ù„Ø§ÙˆØ© Ù„ÙˆØ²",
              pricePerKg: 48,
              image:
                "https://images.unsplash.com/photo-1592415499556-430747e5bf47?w=800&q=80",
            },
            {
              name: "Ø£Ø³Ø§ÙˆØ± Ù„ÙˆØ²",
              pricePerKg: 48,
              image:
                "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&q=80",
            },
            {
              name: "Ø£Ø³Ø§ÙˆØ± ÙƒØ§Ø¬Ùˆ",
              pricePerKg: 48,
              image:
                "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&q=80",
            },
            {
              name: "Ù†Ø§Ø¨Ù„Ø³ÙŠØ©",
              pricePerKg: 50,
              image:
                "https://images.unsplash.com/photo-1550617931-e17a7b70dce2?w=800&q=80",
            },
            {
              name: "Ø¨Ù‚Ù„Ø§ÙˆØ© Ø¹ÙŠÙ† Ø¬Ù…Ù„",
              pricePerKg: 55,
              image: "./img/Oriental-Sweets-Section/5O1A6634 copy.jpg",
            },
            {
              name: "ÙƒØ§Ø³Ø§Øª Ù…ÙƒØ³Ø±Ø§Øª",
              pricePerKg: 80,
              image: "./img/Oriental-Sweets-Section/5K7A6193 copy.jpg",
            },
            {
              name: "Ø¨ÙˆØ±Ù…Ø§ Ø­Ù„Ø¨ÙŠ",
              pricePerKg: 100,
              image:
                "https://images.unsplash.com/photo-1599599810769-bcde5a160d32?w=800&q=80",
              delivery: false,
            },
            {
              name: "Ø¨Ù‚Ù„Ø§ÙˆØ© Ø­Ù„Ø¨ÙŠ",
              pricePerKg: 100,
              image:
                "https://images.unsplash.com/photo-1519676867240-f03562e64548?w=800&q=80",
            },
            {
              name: "Ø¨Ù„ÙˆØ±ÙŠØ© Ø­Ù„Ø¨ÙŠ",
              pricePerKg: 130,
              image:
                "https://images.unsplash.com/photo-1571167530149-c6f274f6db8f?w=800&q=80",
            },
            {
              name: "Ø¯ÙˆÙ„Ù…Ø© Ø­Ù„Ø¨ÙŠ",
              pricePerKg: 130,
              image: "./img/Oriental-Sweets-Section/5K7A6213 copy.jpg",
            },
          ],
        },
        westernSweets: {
          title: "ğŸ° Ø§Ù„ÙƒÙŠÙƒ ÙˆØ§Ù„Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„ØºØ±Ø¨ÙŠØ©",
          items: [
            {
              name: "Ù‚Ø§Ù„Ø¨ ÙƒÙŠÙƒ ØµØºÙŠØ±",
              price: 60,
              image:
                "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&q=80",
            },
            {
              name: "Ù‚Ø§Ù„Ø¨ ÙƒÙŠÙƒ ÙƒØ¨ÙŠØ±",
              price: 80,
              image:
                "https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=800&q=80",
            },
            {
              name: "Ù‚Ø·Ø¹ ÙƒÙŠÙƒ ÙƒÙ„Ø§Ø³ÙŠÙƒ",
              price: 8,
              image:
                "https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=800&q=80",
            },
            {
              name: "Ø³ÙˆÙŠØ³ Ø±ÙˆÙ„",
              price: 8,
              image: "./img/Cake-section/5O1A6200 copy.jpg",
            },
            {
              name: "ØªØ±ÙŠÙ„ØªØ´Ø§",
              price: 10,
              image:
                "https://images.unsplash.com/photo-1621303837293-d3bb11f4e4f4?w=800&q=80",
            },
            {
              name: "Ø¨Ø§Ù† ÙƒÙŠÙƒ ",
              price: 30,
              desc: "  Ù†ÙˆØªÙŠÙ„Ø§ / Ø¨ÙŠØ³ØªØ§Ø´ÙŠÙˆ / Ù„ÙˆØªØ³",
              image:
                "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=800&q=80",
            },
            {
              name: "Ù‚Ø·Ø¹ ÙƒÙŠÙƒ Ø³Ø¨ÙŠØ´Ù„",
              price: 15,
              desc: "  Ù†ÙˆØªÙŠÙ„Ø§ / Ø¨ÙŠØ³ØªØ§Ø´ÙŠÙˆ / Ù„ÙˆØªØ³",
              image:
                "https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?w=800&q=80",
            },
            {
              name: "Ø³ÙˆØ¨Ø±ÙŠÙ…",
              price: 20,
              desc: " Ù„ÙˆØªØ³ - Ù†ÙˆØªÙŠÙ„Ø§ - Ø¨ÙŠØ³ØªØ§Ø´ÙŠÙˆ",
              image: "./img/Cake-section/5O1A6266 copy.jpg",
            },
            {
              name: "ÙƒØ±Ø§Ù†Ø´ Ø¨Ø§Ø±",
              price: 15,
              image: "./img/Cake-section/5O1A6302 copy.jpg",
            },
            {
              name: "Ù‚Ø§Ù„Ø¨ Ù†Øµ Ø¨Ù„Ø§Ø·Ø©",
              price: 150,
              image:
                "https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?w=800&q=80",
            },
          ],
        },
        BarSweets: {
          title: "ğŸ© Ø­Ù„ÙˆÙŠØ§Øª Ø§Ù„Ø¨Ø§Ø±",
          items: [
            {
              name: "ÙƒØ±ÙŠØ¨ Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©",
              price: 15,
              image:
                "https://images.unsplash.com/photo-1519676867240-f03562e64548?w=800&q=80",
            },
            {
              name: "ÙƒØ±ÙŠØ¨ (Ù†ÙˆØªÙŠÙ„Ø§ / Ø¨ÙŠØ³ØªØ§Ø´ÙŠÙˆ / Ù„ÙˆØªØ³)",
              price: 30,
              image: "./img/Bar-section/55.jpeg",
            },
            {
              name: "ÙƒØ±ÙŠØ¨ Ø¯Ø¨ÙŠ",
              price: 30,
              image:
                "https://images.unsplash.com/photo-1519676867240-f03562e64548?w=800&q=80",
            },
            {
              name: "Ø±ÙŠÙ†Ø¬Ø²",
              price: 25,
              image:
                "https://images.unsplash.com/photo-1626804475297-41608ea09aeb?w=800&q=80",
            },
            {
              name: "Ù„Ù‚ÙŠÙ…Ø§Øª Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©",
              price: 15,
              image: "./img/Bar-section/5O1A6772 copy.jpg",
            },
            {
              name: "Ù„Ù‚ÙŠÙ…Ø§Øª (Ù†ÙˆØªÙŠÙ„Ø§ / Ø¨ÙŠØ³ØªØ§Ø´ÙŠÙˆ / Ù„ÙˆØªØ³)",
              price: 30,
              image: "./img/Bar-section/5O1A6767 copy.jpg",
            },
            {
              name: "Ø¨Ø§Ù† ÙƒÙŠÙƒ Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©",
              price: 15,
              image:
                "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=800&q=80",
            },
            {
              name: "Ù…ÙˆÙ„ØªÙ† ÙƒÙŠÙƒ",
              price: 25,
              image:
                "https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=800&q=80",
            },
            {
              name: "Ù‡ÙˆØª ÙƒÙŠÙƒ",
              price: 25,
              image:
                "https://images.unsplash.com/photo-1567620905732-2d1ec7ab7445?w=800&q=80",
            },
            {
              name: "Ø¨Ø±Ø§ÙˆÙ†ÙŠØ²",
              price: 25,
              image: "./img/Bar-section/5O1A6855 copy.jpg",
            },
            {
              name: "ÙƒÙ†Ø§ÙØ© Ù†ÙˆÙŠØªÙ„Ø§",
              price: 15,
              image:
                "https://images.unsplash.com/photo-1519676867240-f03562e64548?w=800&q=80",
            },
          ],
        },
        drinks: {
          title: "ğŸ¥¤ Ø§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª",
          items: [
            { name: "Ø¹ØµÙŠØ± Ø§Ù„Ù…ÙˆØ³Ù…", price: 12, image: "./img/drinks/2.jpg" },
            { name: "Ø¹ØµÙŠØ± Ø£Ù†Ø§Ù†Ø§Ø³", price: 12, image: "./img/drinks/12.5.jpg" },
            { name: "Ù„ÙŠÙ…ÙˆÙ† ÙˆÙ†Ø¹Ù†Ø¹", price: 12, image: "./img/drinks/31.jpg" },
            { name: "Ø£ÙÙˆÙƒØ§Ø¯Ùˆ", price: 18, image: "./img/drinks/5.1.jpg" },
            { name: "Ø´ÙˆÙƒÙˆ Ø¨Ø§Ø±Ø¯", price: 12, image: "./img/drinks/6.2.jpg" },
            { name: "Ø§ÙŠØ³ Ù…ÙˆÙƒØ§ ", price: 12, image: "./img/drinks/7.jpg" },
            {
              name: "Ø¢ÙŠØ³ ÙƒØ§ÙÙŠ",
              price: 12,
              desc: "Ø±Ø´Ø© Ù†Ø³ ÙƒØ§ÙÙŠÙ‡",
              image: "./img/drinks/12.8.jpg",
            },
            {
              name: "Ù…ÙŠÙ„Ùƒ Ø´ÙŠÙƒ",
              price: 15,
              image: "./img/drinks/9.jpg",
            },
            { name: "Ù…ÙˆÙ‡ÙŠØªÙˆ", price: 25, image: "./img/drinks/4.1.jpg" },
            {
              name: "Ø¢ÙŠØ³ ÙƒØ±ÙŠÙ…",
              price: 10,
              image: "./img/drinks/10.jpg",
            },
            {
              name: "Ø¨Ø±Ø§Ø¯",
              price: 5,
              image: "./img/drinks/16.jpg",
            },
            {
              name: "Ù†Ø³ÙƒØ§ÙÙŠÙ‡",
              price: 7,
              image: "./img/drinks/11.jpg",
            },
            {
              name: "ÙƒØ§Ø¨ØªØ´ÙŠÙ†Ùˆ",
              price: 10,
              image:
                "https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=800&q=80",
              active: false,
            },
            {
              name: "Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø³Ù†Ø¬Ù„",
              price: 7,
              image:
                "https://images.unsplash.com/photo-1510591509098-f4fdc6d0ff04?w=800&q=80",
              active: false,
            },
            {
              name: "Ø¥Ø³Ø¨Ø±ÙŠØ³Ùˆ Ø¯Ø¨Ù„",
              price: 10,
              image:
                "https://images.unsplash.com/photo-1514432324607-a09d9b4aefdd?w=800&q=80",
              active: false,
            },
            {
              name: "Ù‚Ù‡ÙˆØ© ØªØ±ÙƒÙŠ Ø¯Ø¨Ù„",
              price: 10,
              image: "./img/drinks/8.jpg",
              active: false,
            },
            {
              name: "Ø´Ø§ÙŠ",
              price: 5,
              image: "./img/drinks/13.jpg",
            },

            {
              name: "Ù…Ø´Ø±ÙˆØ¨ ØºØ§Ø²ÙŠ",
              price: 10,
              image: "./img/drinks/17.jpg",
            },

            {
              name: "Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ© 200 Ù…Ù„Ù…",
              price: 1,
              image: "./img/drinks/14.jpg",
            },
            {
              name: "Ù…ÙŠØ§Ù‡ Ù…Ø¹Ø¯Ù†ÙŠØ© 500 Ù…Ù„Ù…",
              price: 2,
              image: "./img/drinks/15.jpg",
            },
          ],
        },
        salads: {
          title: "ğŸ¥— Ø§Ù„Ø³Ù„Ø·Ø§Øª",
          items: [
            {
              name: "Ø³Ù„Ø·Ø© ÙƒØ¨ÙŠØ±Ø©",
              price: 10,
              image:
                "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80",
            },
            {
              name: "Ø³Ù„Ø·Ø© ØµØºÙŠØ±Ø©",
              price: 5,
              image:
                "https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80",
            },
            {
              name: "Ø¨Ø·Ø§Ø·Ø§ ÙƒØ¨ÙŠØ±Ø©",
              price: 10,
              image:
                "https://images.unsplash.com/photo-1598679253544-2c97992403ea?w=800&q=80",
            },
            {
              name: "Ø¨Ø·Ø§Ø·Ø§ ØµØºÙŠØ±Ø©",
              price: 5,
              image:
                "https://images.unsplash.com/photo-1639024471283-03518883512d?w=800&q=80",
            },
          ],
        },
      };

      let cart = [];
      let activeProduct = null;
      let activeQty = 1;
      let calculatedWeight = 1;
      let calculatedPrice = 0;

      function init() {
        const navBtns = document.getElementById("navButtons");
        const container = document.getElementById("menuContainer");

        Object.keys(menuData).forEach((key, idx) => {
          const btn = document.createElement("button");
          btn.className = `nav-btn ${idx === 0 ? "active" : ""}`;
          btn.textContent = menuData[key].title;
          btn.onclick = () => showSection(key);
          navBtns.appendChild(btn);

          const s = document.createElement("section");
          s.id = key;
          s.className = `menu-section ${idx === 0 ? "active" : ""}`;
          s.innerHTML = `<div class="section-title"><h2>${menuData[key].title}</h2></div>`;

          const grid = document.createElement("div");
          grid.className = "product-grid";

          menuData[key].items.forEach((item, index) => {
            if (item.active === false) return;

            const card = document.createElement("div");
            const sideClass = index % 2 === 0 ? "reveal-right" : "reveal-left";
            card.className = `product-card ${sideClass}`;

            const displayPrice = item.pricePerKg
              ? `${item.pricePerKg} â‚ª/ÙƒØº`
              : `${item.price} â‚ª`;
            const noDeliveryBadge =
              item.delivery === false
                ? `<div class="no-delivery-badge"><img src="./img/o2_delivery_icon.ico" alt="Ù„Ø§ ØªÙˆØµÙŠÙ„" onerror="this.outerHTML='ğŸš«'" /></div>`
                : "";

            card.innerHTML = `${noDeliveryBadge}<img src="${item.image}" onerror="this.src='https://via.placeholder.com/400x600?text=ØµÙˆØ±Ø©+ØºÙŠØ±+Ù…ØªÙˆÙØ±Ø©'"><div class="card-overlay"><h3>${item.name}</h3><div class="product-price">${displayPrice}</div></div>`;
            card.onclick = () => openModal(item, menuData[key].byWeight);
            grid.appendChild(card);
          });

          s.appendChild(grid);
          container.appendChild(s);
        });

        setTimeout(revealProducts, 100);
        setupProvinceSelect();
      }

      function setupProvinceSelect() {
        const provinceSelect = document.getElementById("provinceSelect");
        const locationSelect = document.getElementById("locationSelect");
        const locationGroup = document.getElementById("locationGroup");
        const deliveryPriceDisplay = document.getElementById(
          "deliveryPriceDisplay"
        );

        provinceSelect.addEventListener("change", function () {
          const province = this.value;
          currentProvince = province;

          locationSelect.innerHTML =
            '<option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© --</option>';
          deliveryPriceDisplay.style.display = "none";
          selectedLocation = null;

          if (province) {
            locationGroup.style.display = "block";
            locationSelect.disabled = false;

            const locations = CONFIG.deliveryLocations[province] || [];
            locations.forEach((loc) => {
              const option = document.createElement("option");
              option.value = loc.name;
              option.dataset.price = loc.price;
              option.textContent = `${loc.name} - Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: ${loc.price} â‚ª`;
              locationSelect.appendChild(option);
            });
          } else {
            locationGroup.style.display = "none";
            locationSelect.disabled = true;
          }
        });

        locationSelect.addEventListener("change", function () {
          const deliveryPriceDisplay = document.getElementById(
            "deliveryPriceDisplay"
          );

          if (this.value && currentProvince) {
            const locations = CONFIG.deliveryLocations[currentProvince] || [];
            selectedLocation = locations.find((loc) => loc.name === this.value);

            if (selectedLocation) {
              deliveryPriceDisplay.textContent = `Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: ${selectedLocation.price} â‚ª`;
              deliveryPriceDisplay.style.display = "block";
            }
          } else {
            deliveryPriceDisplay.style.display = "none";
            selectedLocation = null;
          }
        });
      }

      function getWhatsAppNumber() {
        if (currentProvince && CONFIG.whatsappNumbers[currentProvince]) {
          return CONFIG.whatsappNumbers[currentProvince];
        }
        return CONFIG.whatsappNumbers.gaza;
      }

      function showSection(id) {
        document
          .querySelectorAll(".menu-section, .nav-btn")
          .forEach((el) => el.classList.remove("active"));
        document.getElementById(id).classList.add("active");
        if (event && event.target) event.target.classList.add("active");
        toggleNav();
      }

      function toggleNav() {
        document.getElementById("navSidebar").classList.toggle("active");
        document.getElementById("navOverlay").classList.toggle("active");
        document.getElementById("burgerMenu").classList.toggle("active");
      }

      function openModal(item, isByWeight) {
        activeProduct = { ...item, isByWeight };
        activeQty = 1;

        document.getElementById("modalTitle").textContent = item.name;
        document.getElementById("modalDesc").textContent = item.desc || "";
        document.getElementById("modalImage").src = item.image;

        const moneyCalcBox = document.getElementById("moneyCalcBox");
        const qtyControlNormal = document.getElementById("qtyControlNormal");
        const qtyControlWeight = document.getElementById("qtyControlWeight");
        const weightSelector = document.getElementById("weightSelector");
        const priceInput = document.getElementById("priceInput");
        const noDeliveryNotice = document.getElementById("noDeliveryNotice");
        const addToCartBtn = document.getElementById("addToCartBtn");
        const modalWaBtn = document.getElementById("modalWaBtn");

        const canDeliver = item.delivery !== false;

        if (canDeliver) {
          noDeliveryNotice.style.display = "none";
          addToCartBtn.style.display = "block";
          addToCartBtn.disabled = false;
          addToCartBtn.innerHTML =
            '<i class="fas fa-cart-plus"></i> Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©';
          modalWaBtn.style.display = "block";
        } else {
          noDeliveryNotice.style.display = "flex";
          addToCartBtn.style.display = "none";
          modalWaBtn.style.display = "none";
        }

        if (isByWeight) {
          moneyCalcBox.style.display = "block";
          qtyControlNormal.style.display = "none";
          qtyControlWeight.style.display = canDeliver ? "flex" : "none";
          calculatedWeight = 1;
          calculatedPrice = calculatedWeight * item.pricePerKg;
          priceInput.value = "";

          weightSelector.innerHTML = "";
          [0.25, 0.5, 0.75, 1].forEach((w) => {
            const btn = document.createElement("button");
            btn.className = `weight-btn ${w === 1 ? "active" : ""}`;
            btn.textContent = w + " ÙƒØº";
            btn.onclick = function () {
              document
                .querySelectorAll(".weight-btn")
                .forEach((b) => b.classList.remove("active"));
              this.classList.add("active");
              setWeight(w);
            };
            weightSelector.appendChild(btn);
          });
          refreshWeightUI();
        } else {
          moneyCalcBox.style.display = "none";
          qtyControlNormal.style.display = canDeliver ? "flex" : "none";
          qtyControlWeight.style.display = "none";
          updateModalPrice();
        }

        updateModalUI();
        document.getElementById("productModal").classList.add("active");
      }

      function updateFromPrice() {
        const val = parseFloat(document.getElementById("priceInput").value);
        if (!isNaN(val) && val > 0) {
          setWeight(val / activeProduct.pricePerKg);
          document
            .querySelectorAll(".weight-btn")
            .forEach((b) => b.classList.remove("active"));
        }
      }

      function setWeight(w) {
        calculatedWeight = w;
        calculatedPrice = w * activeProduct.pricePerKg;
        refreshWeightUI();
      }

      function adjustWeight(delta) {
        let newWeight = parseFloat((calculatedWeight + delta).toFixed(2));
        if (newWeight < 0.25) newWeight = 0.25;
        setWeight(newWeight);
        document.querySelectorAll(".weight-btn").forEach((b) => {
          b.classList.toggle("active", parseFloat(b.textContent) === newWeight);
        });
      }

      function refreshWeightUI() {
        document.getElementById("weightDisplay").textContent =
          calculatedWeight.toFixed(2) + " ÙƒØº";
        document.getElementById(
          "modalPrice"
        ).innerHTML = `${calculatedPrice.toFixed(
          1
        )} â‚ª <span style="font-size:0.9rem; color:#888; font-weight:400;">(${calculatedWeight.toFixed(
          2
        )} ÙƒØº Ã— ${activeProduct.pricePerKg} â‚ª/ÙƒØº)</span>`;
        updateModalUI();
      }

      function changeActiveQty(val) {
        activeQty = Math.max(1, activeQty + val);
        updateModalPrice();
        updateModalUI();
      }

      function updateModalPrice() {
        if (!activeProduct.isByWeight) {
          document.getElementById("modalPrice").textContent = `${(
            activeProduct.price * activeQty
          ).toFixed(1)} â‚ª`;
        }
      }

      function updateModalUI() {
        document.getElementById("activeQtyDisplay").textContent = activeQty;
        const waNumber = getWhatsAppNumber();
        const waText =
          activeProduct.isByWeight && calculatedWeight > 0
            ? `Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨: ${activeProduct.name} - ÙˆØ²Ù† ${calculatedWeight.toFixed(
                2
              )} ÙƒØº (Ø§Ù„Ø³Ø¹Ø± ${calculatedPrice.toFixed(1)} Ø´ÙŠÙƒÙ„)`
            : activeProduct.isByWeight
            ? `Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨: ${activeProduct.name}`
            : `Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨: ${activeProduct.name} Ã— ${activeQty}`;
        document.getElementById(
          "modalWaBtn"
        ).href = `https://wa.me/${waNumber}?text=${encodeURIComponent(waText)}`;
      }

      function closeModal() {
        document.getElementById("productModal").classList.remove("active");
      }

      function addToCart() {
        if (activeProduct.delivery === false) {
          showToast("Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªØ§Ø­ Ù„Ù„ØªÙˆØµÙŠÙ„");
          return;
        }

        if (
          activeProduct.isByWeight &&
          (calculatedPrice <= 0 || calculatedWeight <= 0)
        ) {
          showToast("ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ…ÙŠØ© Ø£Ùˆ Ø§Ù„Ø³Ø¹Ø±");
          return;
        }

        const itemKey = activeProduct.isByWeight
          ? `${activeProduct.name}-${calculatedWeight}`
          : activeProduct.name;
        const existing = cart.find((i) => i.key === itemKey);

        if (existing) {
          existing.qty += activeQty;
          showToast(`ØªÙ… ØªØ­Ø¯ÙŠØ« ${activeProduct.name} ÙÙŠ Ø§Ù„Ø³Ù„Ø©`);
        } else {
          const qtyToAdd = activeProduct.isByWeight ? 1 : activeQty;
          cart.push({
            key: itemKey,
            name: activeProduct.name,
            price: activeProduct.isByWeight
              ? calculatedPrice
              : activeProduct.price,
            unitPrice: activeProduct.isByWeight
              ? activeProduct.pricePerKg
              : activeProduct.price,
            qty: qtyToAdd,
            weight: activeProduct.isByWeight ? calculatedWeight : null,
            isByWeight: activeProduct.isByWeight,
          });
          showToast(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${activeProduct.name} Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©`);
        }

        updateCartBadge();
        updateCartUI();
        closeModal();
      }

      function updateCartBadge() {
        const total = cart.reduce((acc, curr) => acc + curr.qty, 0);
        const badge = document.getElementById("cartCount");
        badge.textContent = total;
        badge.style.display = total > 0 ? "flex" : "none";
      }

      function updateCartUI() {
        const list = document.getElementById("cartItemsList");
        list.innerHTML = "";
        let total = 0;

        cart.forEach((item, idx) => {
          const itemTotal = item.price * item.qty;
          total += itemTotal;
          const displayName = item.isByWeight
            ? `${item.name} (${item.weight.toFixed(2)} ÙƒØº)`
            : item.name;

          list.innerHTML += `
            <div class="cart-item">
              <div class="cart-item-info">
                <b>${displayName}</b><br>
                <span style="color:#bbb; font-size:0.85rem;">Ø§Ù„Ø³Ø¹Ø±: ${item.price.toFixed(
                  1
                )}â‚ª</span><br>
                <span style="color:var(--brand-color); font-weight:bold;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${itemTotal.toFixed(
                  1
                )}â‚ª</span>
              </div>
              <div class="cart-qty-controls">
                <button class="mini-qty-btn" onclick="adjustCartQty(${idx}, -1)">-</button>
                <span style="font-weight:bold; font-size:0.9rem; width:20px; text-align:center;">${
                  item.qty
                }</span>
                <button class="mini-qty-btn" onclick="adjustCartQty(${idx}, 1)">+</button>
              </div>
            </div>
          `;
        });

        document.getElementById(
          "cartTotal"
        ).textContent = `Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total.toFixed(1)} â‚ª`;
      }

      function adjustCartQty(idx, change) {
        cart[idx].qty += change;
        if (cart[idx].qty <= 0) cart.splice(idx, 1);
        updateCartUI();
        updateCartBadge();
      }

      function backToCart() {
        document.getElementById("customerModal").classList.remove("active");
        document.getElementById("cartModal").classList.add("active");
      }

      function editOrder() {
        document.getElementById("confirmOrderModal").classList.remove("active");
        document.getElementById("customerModal").classList.add("active");
      }

      function showConfirmation() {
        const invoiceContainer = document.getElementById("invoiceContainer");
        let itemsTotal = 0;
        const provinceName =
          currentProvince === "gaza" ? "Ù…Ø­Ø§ÙØ¸Ø© ØºØ²Ø©" : "Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„ÙˆØ³Ø·Ù‰";
        const fullAddress = `${provinceName} - ${selectedLocation.name} - ${customerInfo.address}`;

        let tableRows = "";
        cart.forEach((item) => {
          const itemTotal = item.price * item.qty;
          itemsTotal += itemTotal;
          const displayName = item.isByWeight
            ? `${
                item.name
              }<br><small style="color:#666;">(${item.weight.toFixed(
                2
              )} ÙƒØº)</small>`
            : item.name;
          const unitPriceDisplay = item.isByWeight
            ? `${item.unitPrice} â‚ª/ÙƒØº`
            : `${item.unitPrice} â‚ª`;

          tableRows += `
            <tr>
              <td>${displayName}</td>
              <td>${item.qty}</td>
              <td>${unitPriceDisplay}</td>
              <td>${itemTotal.toFixed(1)} â‚ª</td>
            </tr>
          `;
        });

        tableRows += `
          <tr class="delivery-row">
            <td>ğŸšš Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„</td>
            <td>-</td>
            <td>${selectedLocation.name}</td>
            <td>${selectedLocation.price} â‚ª</td>
          </tr>
        `;

        const grandTotal = itemsTotal + selectedLocation.price;

        invoiceContainer.innerHTML = `
          <div class="invoice-header">
            <h3>ğŸ½ï¸ O<sub>2</sub> Restaurant</h3>
            <p>ÙØ§ØªÙˆØ±Ø© Ø·Ù„Ø¨ ØªÙˆØµÙŠÙ„</p>
          </div>

          <div class="invoice-customer">
            <div class="invoice-customer-row">
              <span class="invoice-customer-label">ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…:</span>
              <span class="invoice-customer-value">${customerInfo.name}</span>
            </div>
            <div class="invoice-customer-row">
              <span class="invoice-customer-label">ğŸ“± Ø§Ù„Ù‡Ø§ØªÙ:</span>
              <span class="invoice-customer-value">${customerInfo.phone}</span>
            </div>
            <div class="invoice-customer-row">
              <span class="invoice-customer-label">ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:</span>
              <span class="invoice-customer-value">${fullAddress}</span>
            </div>
          </div>

          <table class="invoice-table">
            <thead>
              <tr>
                <th>Ø§Ù„ØµÙ†Ù</th>
                <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
                <th>Ø§Ù„Ø³Ø¹Ø±</th>
                <th>Ø§Ù„Ù…Ø¨Ù„Øº</th>
              </tr>
            </thead>
            <tbody>
              ${tableRows}
            </tbody>
          </table>

          <div class="invoice-total-box">
            <div class="invoice-total-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</div>
            <div class="invoice-total-amount">${grandTotal.toFixed(1)} â‚ª</div>
          </div>

          <div class="invoice-footer">
            <p>Ø´ÙƒØ±Ø§Ù‹ Ù„Ø·Ù„Ø¨ÙƒÙ… Ù…Ù† O2 Restaurant ğŸ™</p>
            <p>Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙƒÙ… Ù‚Ø±ÙŠØ¨Ø§Ù‹</p>
          </div>
        `;

        document.getElementById("confirmOrderModal").classList.add("active");
      }

      function executeWhatsAppSend() {
        let itemsTotal = 0;
        const provinceName =
          currentProvince === "gaza" ? "Ù…Ø­Ø§ÙØ¸Ø© ØºØ²Ø©" : "Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© Ø§Ù„ÙˆØ³Ø·Ù‰";
        const fullAddress = `${provinceName} - ${selectedLocation.name} - ${customerInfo.address}`;

        const targetNumber = getWhatsAppNumber();

        let msg = "ğŸ½ï¸ *Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† O2 Restaurant*\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\n";
        msg += `ğŸ‘¤ *Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„:*\n`;
        msg += `â€¢ Ø§Ù„Ø§Ø³Ù…: ${customerInfo.name}\n`;
        msg += `â€¢ Ø§Ù„Ù‡Ø§ØªÙ: ${customerInfo.phone}\n`;
        msg += `â€¢ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${fullAddress}\n\n`;

        msg += "ğŸ“‹ *ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨:*\n";
        msg += "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n";

        cart.forEach((i) => {
          const itemTotal = i.price * i.qty;
          itemsTotal += itemTotal;
          const displayName = i.isByWeight
            ? `${i.name} (${i.weight.toFixed(2)} ÙƒØº)`
            : i.name;
          const unitPriceDisplay = i.isByWeight
            ? `${i.unitPrice} â‚ª/ÙƒØº`
            : `${i.unitPrice} â‚ª`;
          msg += `â”‚ ${displayName}\n`;
          msg += `â”‚   Ø§Ù„ÙƒÙ…ÙŠØ©: ${i.qty} | Ø§Ù„Ø³Ø¹Ø±: ${unitPriceDisplay}\n`;
          msg += `â”‚   Ø§Ù„Ù…Ø¨Ù„Øº: ${itemTotal.toFixed(1)} â‚ª\n`;
          msg += `â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n`;
        });

        msg += `â”‚ ğŸšš Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙˆØµÙŠÙ„: ${selectedLocation.price} â‚ª\n`;
        msg += `â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\n`;
        msg += `â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;
        msg += `ğŸ’µ *Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø©: ${(
          itemsTotal + selectedLocation.price
        ).toFixed(1)} â‚ª*`;

        window.open(
          `https://wa.me/${targetNumber}?text=${encodeURIComponent(msg)}`
        );

        cart = [];
        selectedLocation = null;
        currentProvince = null;
        customerInfo = { name: "", phone: "", address: "" };
        updateCartUI();
        updateCartBadge();
        document.getElementById("confirmOrderModal").classList.remove("active");
        document.getElementById("customerForm").reset();
        document.getElementById("deliveryPriceDisplay").style.display = "none";
        document.getElementById("locationGroup").style.display = "none";
      }

      function showToast(msg) {
        const t = document.createElement("div");
        t.style =
          "position:fixed; top:20px; left:50%; transform:translateX(-50%); background:var(--brand-color); color:white; padding:12px 24px; border-radius:10px; z-index:3000; box-shadow: 0 5px 15px rgba(0,0,0,0.3); font-weight:bold; max-width:90vw; text-align:center;";
        t.textContent = msg;
        document.body.appendChild(t);
        setTimeout(() => t.remove(), 3000);
      }

      function revealProducts() {
        const observer = new IntersectionObserver(
          (entries) =>
            entries.forEach((entry) => {
              if (entry.isIntersecting) entry.target.classList.add("active");
            }),
          { threshold: 0.1 }
        );
        document
          .querySelectorAll(".product-card")
          .forEach((card) => observer.observe(card));
      }

      document.getElementById("burgerMenu").onclick = toggleNav;
      document.getElementById("navOverlay").onclick = toggleNav;
      document.getElementById("addToCartBtn").onclick = addToCart;

      document.getElementById("cartButton").onclick = () => {
        updateCartUI();
        document.getElementById("cartModal").classList.add("active");
      };

      document.getElementById("clearCartBtn").onclick = () => {
        cart = [];
        updateCartUI();
        updateCartBadge();
      };

      document.getElementById("sendCartBtn").onclick = () => {
        if (cart.length === 0) {
          showToast("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
          return;
        }
        document.getElementById("cartModal").classList.remove("active");
        document.getElementById("customerModal").classList.add("active");
      };

      document.getElementById("customerForm").onsubmit = (e) => {
        e.preventDefault();
        customerInfo.name = document
          .getElementById("customerName")
          .value.trim();
        customerInfo.phone = document
          .getElementById("customerPhone")
          .value.trim();
        customerInfo.address = document
          .getElementById("customerAddress")
          .value.trim();

        if (
          !customerInfo.name ||
          !customerInfo.phone ||
          !customerInfo.address
        ) {
          showToast("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„");
          return;
        }

        if (!currentProvince) {
          showToast("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©");
          return;
        }

        if (!selectedLocation) {
          showToast("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙˆØµÙŠÙ„");
          return;
        }

        document.getElementById("customerModal").classList.remove("active");
        showConfirmation();
      };

      init();
    </script>
  </body>
</html>
